<!DOCTYPE html>
<html lang="en">
<head>
<title>Taxon</title>
<meta charset="utf-8">
<link rel="icon"
      type="image/png"
      href="img/favicon.png">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="container"></div>

<div id="program-pad" data-mode="single">
    <pre id="metrics-list-container" class="hidden list-container" contenteditable="false">
        <ul id="metrics-list" class="load-machine-list">
        </ul>
    </pre>
    <pre id="metrics-container" class="hidden gc-container code-field" contenteditable="false">
    </pre>
    <div id="machine-list-container" class="list-container">
        <ul id="pre-machine-list" class="load-machine-list">
            <!--
            <li>
                <label for="new-machine-input">(new machine)</label>
                <input id="new-machine-input" type="file" accept="application/JSON"
                       style="position: fixed; top: -100em"
                       onchange="window.strangeGui.uploadNewMachine(this.files[0]);">
            </li>
            <li onclick="window.strangeGui.deleteGCFromServer();">(delete machine)</li>
            -->
        </ul>
        <ul id="load-machine-list" class="load-machine-list">
        </ul>
    </div>
    <pre id="gc-container-1" class="gc-container code-field" contenteditable="false">
    </pre>
    <pre id="parts-list-container" class="hidden list-container" contenteditable="false">
        <ul id="parts-list" class="load-machine-list">
        </ul>
    </pre>
    <pre id="parts-container" class="hidden gc-container code-field" contenteditable="false">
    </pre>
</div>

<div id="job-pad" class="">
    <pre id="filter-container" class="code-field" contenteditable="true"></pre>
    <div id="filter-autocomplete" class="hidden"></div>
    <div id="rot-container" class="code-field" contenteditable="false">
        <div data-rot-name="material-match-machine" class="rot-item">
            <input type="checkbox"/>
            <div class="rot-description">
                material must match machine
            </div>
        </div>
        <div data-rot-name="envelope-fit" class="rot-item">
            <input type="checkbox"/>
            <div class="rot-description">
                model must fit in envelope
            </div>
        </div>
        <div data-rot-name="tall-features" class="rot-item">
            <input type="checkbox"/>
            <div class="rot-description">
                machine must handle tall features
            </div>
        </div>
    </div>
    <div id="widget-show-machine" class="hidden">
        <div class="button-bar">
            <input id="machine-non-input" type="file"
                   style="position: fixed; top: -100em">
            <label class="upload-btn-label" for="new-model-input">machine</label>
            <div id="machine-value" class="upload-btn-value">none selected</div>
        </div>
    </div>
    <div id="widget-upload-model">
        <div class="button-bar">
            <input id="new-model-input" type="file" accept=".stl"
                   style="position: fixed; top: -100em"
                   onchange="window.strangeGui.uploadModel(this.files[0]);">
            <label class="upload-btn-label" for="new-model-input">model</label>
            <div id="model-value" class="upload-btn-value">none uploaded</div>
        </div>
    </div>
    <div id="widget-load-material" class="hidden">
        <div class="button-bar">
            <input id="material-input" type="file" accept=".stl"
                   style="position: fixed; top: -100em"
                   onchange="window.strangeGui.uploadModel(this.files[0]);">
            <label class="upload-btn-label" for="new-model-input">material</label>
            <div id="material-value" class="upload-btn-value">none selected</div>
        </div>
    </div>
    <div id="workflow-list-container" class="list-container">
        <ul id="workflow-list" class="load-machine-list">
        </ul>
    </div>
    <div id="workflow-container" class="code-field" contenteditable="true"></div>
    <pre id="workflow-console" class="code-field" contenteditable="false">
I am the console.
    </pre>
    <div class="button-bar">
        <button id="step-button" onclick="window.strangeGui.workflow.step()">step</button>
        <button id="reset-button" onclick="window.strangeGui.workflow.reset()">reset</button>
    </div>
    <div class="widget-container">
        <div id="widget-upload-model" class="hidden">
            <div class="button-bar">
                <input id="new-model-input" type="file" accept=".stl"
                       style="position: fixed; top: -100em"
                       onchange="window.strangeGui.uploadModel(this.files[0]);">
                <label id="upload-model-btn" for="new-model-input">upload model</label>
                <button>static check</button>
            </div>
        </div>
        <div id="widget-position-model" class="hidden">
            <div id="model-container">
            </div>
            <pre id="model-check-container" class="code-field" contenteditable="false">
            </pre>
            <div class="button-bar">
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('x');">rX</button>
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('y');">rY</button>
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('z');">rZ</button>
            </div>
        </div>
        <div id="widget-run" class="hidden">
            <pre id="job-log" class="code-field" contenteditable="false">
            </pre>
            <pre id="job-container" class="code-field" contenteditable="false">
            </pre>
        </div>
    </div>
</div>

<script type="module" src="main.js"></script>

<!-- Load JS parsing infrastructure direct from scripts -->
<script src="./build/esprima.js"></script>
<script src="./build/escodegen.browser.js"></script>

</body>
</html>

