<!DOCTYPE html>
<html lang="en">
<head>
<title>Strange Machine</title>
<meta charset="utf-8">
<link rel="icon"
      type="image/png"
      href="img/favicon.png">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div id="container"></div>

<div id="program-pad" data-mode="single">
    <pre id="filter-container" class="code-field" contenteditable="true"></pre>
    <div id="machine-list-container" class="list-container">
        <ul id="pre-machine-list" class="load-machine-list">
            <li>
                <label for="new-machine-input">(new machine)</label>
                <input id="new-machine-input" type="file" accept="application/JSON"
                       style="position: fixed; top: -100em"
                       onchange="window.strangeGui.uploadNewMachine(this.files[0]);">
            </li>
            <li onclick="window.strangeGui.deleteGCFromServer();">(delete machine)</li>
        </ul>
        <ul id="load-machine-list" class="load-machine-list">
        </ul>
    </div>
    <pre id="gc-container-1" class="gc-container code-field" contenteditable="false">
    </pre>
    <pre id="rot-container" class="code-field" contenteditable="false">
    </pre>
</div>

<div id="job-pad">
    <pre id="rot-console" class="code-field" contenteditable="false">

- material must match machine
- model must fit in envelope
- machine must handle tall features
    </pre>
    <div id="workflow-container" class="code-field" contenteditable="true"></div>
    <pre id="workflow-console" class="code-field" contenteditable="false">
I am the console.
    </pre>
    <div class="button-bar">
        <button id="step-button" onclick="window.strangeGui.workflow.step()">step</button>
        <button id="reset-button" onclick="window.strangeGui.workflow.reset()">reset</button>
    </div>
    <div class="widget-container">
        <div id="widget-upload-model" class="hidden">
            <div class="button-bar">
                <input id="new-model-input" type="file" accept=".stl"
                       style="position: fixed; top: -100em"
                       onchange="window.strangeGui.uploadModel(this.files[0]);">
                <label id="upload-model-btn" for="new-model-input">upload model</label>
                <button>static check</button>
            </div>
        </div>
        <div id="widget-position-model" class="hidden">
            <div id="model-container">
            </div>
            <pre id="model-check-container" class="code-field" contenteditable="false">
            </pre>
            <div class="button-bar">
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('x');">rX</button>
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('y');">rY</button>
                <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('z');">rZ</button>
            </div>
        </div>
        <div id="widget-run" class="hidden">
            <pre id="job-log" class="code-field" contenteditable="false">
            </pre>
            <pre id="job-container" class="code-field" contenteditable="false">
            </pre>
        </div>
    </div>
</div>

<!-- Old assembly of widgets - leaving for reference for now
<div id="job-pad">
    <pre id="model-check-container" class="code-field" contenteditable="false">
    </pre>
    <div id="new-machine-button-bar" class="button-bar">
        <input id="new-model-input" type="file" accept=".stl"
               style="position: fixed; top: -100em"
               onchange="window.strangeGui.uploadModel(this.files[0]);">
        <label id="upload-model-btn" for="new-model-input">upload model</label>
        <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('x');">rX</button>
        <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('y');">rY</button>
        <button class="narrow" onclick="window.strangeScene.rotateModelOverAxis('z');">rZ</button>
    </div>
    <div id="model-container">
    </div>
    <pre id="cam-container" class="code-field" contenteditable="false">
{
    "quality" {
        "layerHeight" : 2
    },
    "shell" {
        "wallThickness" : 1,
        "topBottomThickness" : 6
    },
    "infill" : {
        "pattern" : "triangles",
        "density" : 20
    },
    "material" : {
        "printingTemperature" : 205,
        "buildPlateTemperature" : 60,
        "enableRetraction" : true
    },
    "speed" : {
        "printSpeed" : 70
    },
    "support" : {
        "generateSupport" : true,
        "supportOverhangAngle" : 60
    }
}
    </pre>
    <pre id="job-log" class="code-field" contenteditable="false">
No messages.
    </pre>
    <pre id="job-container" class="code-field" contenteditable="false">
No G-Code loaded.
    </pre>
    <div class="button-bar">
        <button onclick="window.jobFile.loadAndRunExample('box')">draw box</button>
        <button onclick="window.jobFile.loadAndRunExample('cube')">draw cube</button>
    </div>
</div>
-->

<script type="module" src="main.js"></script>

</body>
</html>

